<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Command Line Analytics</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Command Line Analytics</h1>
</header>
<section data-field="subtitle" class="p-summary">
Analysing Election Results like a boss
</section>
<section data-field="body" class="e-content">
<section name="727f" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="bab1" id="bab1" class="graf graf--h3 graf--leading graf--title">Command Line Analytics</h3><h4 name="286c" id="286c" class="graf graf--h4 graf-after--h3 graf--subtitle">Analysing Election Results like a boss</h4><p name="4627" id="4627" class="graf graf--p graf-after--h4">Recently, I’ve written a couple of articles analysing Sri Lankan Presidential Elections, including: <a href="https://medium.com/on-politics/election-projections-762e6e07b284" data-href="https://medium.com/on-politics/election-projections-762e6e07b284" class="markup--anchor markup--p-anchor" target="_blank">Election Projections</a>, <a href="https://medium.com/on-politics/bellwether-polling-divisions-e9c3ab7f4f28" data-href="https://medium.com/on-politics/bellwether-polling-divisions-e9c3ab7f4f28" class="markup--anchor markup--p-anchor" target="_blank">Bellwether Polling Divisions</a>, <a href="https://medium.com/on-politics/floating-voter-9bf7fa53454d" data-href="https://medium.com/on-politics/floating-voter-9bf7fa53454d" class="markup--anchor markup--p-anchor" target="_blank">On Floating Voters</a> and <a href="https://medium.com/on-politics/a-brief-history-of-sri-lankan-presidential-elections-8782c2dd8aac" data-href="https://medium.com/on-politics/a-brief-history-of-sri-lankan-presidential-elections-8782c2dd8aac" class="markup--anchor markup--p-anchor" target="_blank">A Brief History of Sri Lankan Presidential Elections</a>.</p><p name="fed3" id="fed3" class="graf graf--p graf-after--p">All these analyses are based on data I scraped from the <a href="https://elections.gov.lk" data-href="https://elections.gov.lk" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Election Commission Website</a>. I have shared this data in <a href="https://github.com/nuuuwan/elections_lk/blob/master/elections/data/presidential_election_results.json" data-href="https://github.com/nuuuwan/elections_lk/blob/master/elections/data/presidential_election_results.json" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">JSON</a> and <a href="https://github.com/nuuuwan/elections_lk/blob/master/elections/data/presidential_election_results.denorm.csv" data-href="https://github.com/nuuuwan/elections_lk/blob/master/elections/data/presidential_election_results.denorm.csv" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">CSV</a> format on <a href="https://github.com/nuuuwan/elections_lk/tree/master/elections/data" data-href="https://github.com/nuuuwan/elections_lk/tree/master/elections/data" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">GitHub</a>.</p><p name="5cc3" id="5cc3" class="graf graf--p graf-after--p">In this article, I share a couple simple commands you can use to answer some interesting questions about elections.</p><p name="ef6b" id="ef6b" class="graf graf--p graf-after--p">I use data from <a href="https://github.com/nuuuwan/elections_lk/blob/master/elections/data/presidential_election_results.denorm.csv" data-href="https://github.com/nuuuwan/elections_lk/blob/master/elections/data/presidential_election_results.denorm.csv" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">presidential_election_results.denorm.csv</a>, which is a table of all the results in our seven Presidential Elections.</p><figure name="a989" id="a989" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*I_mTLyr8tj5rs47jYTj0Cw.png" data-width="1606" data-height="426" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*I_mTLyr8tj5rs47jYTj0Cw.png"></figure><h3 name="553a" id="553a" class="graf graf--h3 graf-after--figure">Basic Commands</h3><p name="9565" id="9565" class="graf graf--p graf-after--h3">To see all the data, run</p><pre name="05b5" id="05b5" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">cat presidential_election_results.denorm.csv</strong></pre><p name="d4c3" id="d4c3" class="graf graf--p graf-after--pre">This will print out all the lines in the file:</p><pre name="8bdf" id="8bdf" class="graf graf--pre graf-after--p">year,result_code,electoral_district_name,polling_division_name,party,candidate,votes,percentage,affiliation</pre><pre name="8e21" id="8e21" class="graf graf--pre graf-after--pre">1982,01A,Colombo,Colombo North,UNP,Junius Richard Jayewardene,29380,69.03,green</pre><pre name="85bb" id="85bb" class="graf graf--pre graf-after--pre">1982,01A,Colombo,Colombo North,SLFP,Hector Kobbekaduwa,10641,25.0,blue</pre><pre name="4311" id="4311" class="graf graf--pre graf-after--pre">1982,01A,Colombo,Colombo North,JVP,Rohana Wijeweera,1645,3.86,red</pre><pre name="76e1" id="76e1" class="graf graf--pre graf-after--pre">1982,01A,Colombo,Colombo North,LSSP,Colvin Reginald de Silva,361,0.85,red</pre><pre name="09f8" id="09f8" class="graf graf--pre graf-after--pre">1982,01A,Colombo,Colombo North,ACTC,Kumar Ponnambalam,477,1.12,yellow</pre><pre name="6bdd" id="6bdd" class="graf graf--pre graf-after--pre">1982,01A,Colombo,Colombo North,NSSP,Vasudeva Nanayakkara,60,0.14,red</pre><pre name="ba03" id="ba03" class="graf graf--pre graf-after--pre">1988,01A,Colombo,Colombo North,UNP,Ranasinghe Premadasa,22389,63.26,green</pre><pre name="04b9" id="04b9" class="graf graf--pre graf-after--pre">1988,01A,Colombo,Colombo North,SLFP,Sirimavo Bandaranaike,10744,30.36,blue</pre><pre name="bb79" id="bb79" class="graf graf--pre graf-after--pre">1988,01A,Colombo,Colombo North,SLPP,Oswin Abeygunasekara,2259,6.38,purple</pre><pre name="97cd" id="97cd" class="graf graf--pre graf-after--pre">...</pre><p name="39e4" id="39e4" class="graf graf--p graf-after--pre">To see the field headings, you can run:</p><pre name="bbfb" id="bbfb" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">head -n 1 presidential_election_results.denorm.csv</strong></pre><p name="4630" id="4630" class="graf graf--p graf-after--pre">Giving,</p><pre name="ff5e" id="ff5e" class="graf graf--pre graf-after--p">year,result_code,electoral_district_name,polling_division_name,party,candidate,votes,percentage,affiliation</pre><p name="cfea" id="cfea" class="graf graf--p graf-after--pre">To see the field headings and first line, run:</p><pre name="b861" id="b861" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">head -n 2 presidential_election_results.denorm.csv</strong></pre><pre name="3ca1" id="3ca1" class="graf graf--pre graf-after--pre">year,result_code,electoral_district_name,polling_division_name,party,candidate,votes,percentage,affiliation</pre><pre name="db6d" id="db6d" class="graf graf--pre graf-after--pre">1982,01A,Colombo,Colombo North,UNP,Junius Richard Jayewardene,29380,69.03,green</pre><p name="442d" id="442d" class="graf graf--p graf-after--pre">This means that in <strong class="markup--strong markup--p-strong">1982</strong>, <strong class="markup--strong markup--p-strong">Junius Richard Jayewardene</strong> of the <strong class="markup--strong markup--p-strong">UNP</strong> (green) got <strong class="markup--strong markup--p-strong">29,380</strong> votes (a percentge of <strong class="markup--strong markup--p-strong">69.03</strong>%) in the <strong class="markup--strong markup--p-strong">Colombo North</strong> polling divisions, which is part of the <strong class="markup--strong markup--p-strong">Colombo</strong> electoral district, and has result code <strong class="markup--strong markup--p-strong">01A</strong>.</p><p name="784b" id="784b" class="graf graf--p graf-after--p">You can format this output a bit better by replacing the commas with tabs:</p><pre name="22b1" id="22b1" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">head -n 2 presidential_election_results.denorm.csv | tr , ‘\t’</strong></pre><pre name="2364" id="2364" class="graf graf--pre graf-after--pre">year result_code electoral_district_name polling_division_name party candidate votes percentage affiliation</pre><pre name="0782" id="0782" class="graf graf--pre graf-after--pre">1982 01A Colombo Colombo North UNP Junius Richard Jayewardene 29380 69.03 green</pre><p name="00f3" id="00f3" class="graf graf--p graf-after--pre">If you want to see only a few fiels, say 5) Party, 6) Candidate and 7) Votes:</p><pre name="f260" id="f260" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">head -n 2 presidential_election_results.denorm.csv | cut -d, -f5,6,7 | tr , &#39;\t&#39;</strong></pre><pre name="9609" id="9609" class="graf graf--pre graf-after--pre">party candidate votes</pre><pre name="9a18" id="9a18" class="graf graf--pre graf-after--pre">UNP Junius Richard Jayewardene 29380</pre><p name="d9e5" id="d9e5" class="graf graf--p graf-after--pre">To see all the Colombo North Results for 1982:</p><pre name="6dd0" id="6dd0" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">cat  presidential_election_results.denorm.csv | grep 1982 | grep &quot;Colombo North&quot;  | cut -d, -f5,6,7 | tr , &#39;\t&#39;</strong></pre><pre name="a6b0" id="a6b0" class="graf graf--pre graf-after--pre">UNP Junius Richard Jayewardene 29380</pre><pre name="297a" id="297a" class="graf graf--pre graf-after--pre">SLFP Hector Kobbekaduwa 10641</pre><pre name="f712" id="f712" class="graf graf--pre graf-after--pre">JVP Rohana Wijeweera 1645</pre><pre name="ebab" id="ebab" class="graf graf--pre graf-after--pre">LSSP Colvin Reginald de Silva 361</pre><pre name="d1c7" id="d1c7" class="graf graf--pre graf-after--pre">ACTC Kumar Ponnambalam 477</pre><pre name="3c4e" id="3c4e" class="graf graf--pre graf-after--pre">NSSP Vasudeva Nanayakkara 60</pre><p name="6caa" id="6caa" class="graf graf--p graf-after--pre">In descending order of votes:</p><pre name="198a" id="198a" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">cat  presidential_election_results.denorm.csv | grep 1982 | grep &quot;Colombo North&quot;  | sort -t, -nr -k7 | cut -d, -f5,6,7 | tr , &#39;\t&#39;</strong></pre><pre name="e43a" id="e43a" class="graf graf--pre graf-after--pre">UNP Junius Richard Jayewardene 29380</pre><pre name="d7ba" id="d7ba" class="graf graf--pre graf-after--pre">SLFP Hector Kobbekaduwa 10641</pre><pre name="d43d" id="d43d" class="graf graf--pre graf-after--pre">JVP Rohana Wijeweera 1645</pre><pre name="2145" id="2145" class="graf graf--pre graf-after--pre">ACTC Kumar Ponnambalam 477</pre><pre name="6a19" id="6a19" class="graf graf--pre graf-after--pre">LSSP Colvin Reginald de Silva 361</pre><pre name="3619" id="3619" class="graf graf--pre graf-after--pre">NSSP Vasudeva Nanayakkara 60</pre><p name="6705" id="6705" class="graf graf--p graf-after--pre">To find how many candidates contested in Colombo North in 1982,</p><pre name="1110" id="1110" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">cat  presidential_election_results.denorm.csv | grep 1982 | grep &quot;Colombo North&quot;  | wc -l</strong></pre><pre name="c934" id="c934" class="graf graf--pre graf-after--pre">6</pre><p name="7cb0" id="7cb0" class="graf graf--p graf-after--pre">Answer: six candidates.</p><p name="ee55" id="ee55" class="graf graf--p graf-after--p">See all the results for the SLFP in 1982, from polling divisions, excluding postal votes:</p><pre name="1672" id="1672" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">cat  presidential_election_results.denorm.csv | awk &#39;!/Final Results|AICUM|Postal/&#39; | grep 1982  | grep SLFP | cut -d, -f4,7,8 | tr , &#39;\t&#39; | sort</strong></pre><pre name="090a" id="090a" class="graf graf--pre graf-after--pre">Agalawatta 21041 41.25</pre><pre name="416e" id="416e" class="graf graf--pre graf-after--pre">Akmeemana 19623 46.97</pre><pre name="dd72" id="dd72" class="graf graf--pre graf-after--pre">Akuressa 20389 40.57</pre><pre name="713c" id="713c" class="graf graf--pre graf-after--pre">Ambalangoda 16225 43.99</pre><pre name="25f5" id="25f5" class="graf graf--pre graf-after--pre">Ampara 20552 38.71</pre><pre name="5a90" id="5a90" class="graf graf--pre graf-after--pre">Anamaduwa 19757 45.71</pre><pre name="52d7" id="52d7" class="graf graf--pre graf-after--pre">Anuradhapura-East 14944 45.31</pre><pre name="ce22" id="ce22" class="graf graf--pre graf-after--pre">Anuradhapura-West 15054 42.19</pre><pre name="a1a9" id="a1a9" class="graf graf--pre graf-after--pre">Aranayake 10433 35.95</pre><pre name="e8ef" id="e8ef" class="graf graf--pre graf-after--pre">Attanagalla 31495 55.92</pre><pre name="b909" id="b909" class="graf graf--pre graf-after--pre">...</pre><h3 name="c29b" id="c29b" class="graf graf--h3 graf-after--pre"><strong class="markup--strong markup--h3-strong">Answering questions like a Nerd</strong></h3><h4 name="5ea3" id="5ea3" class="graf graf--h4 graf-after--h3">How many candidates have ever contested the presidential election? Who are they?</h4><pre name="6a8e" id="6a8e" class="graf graf--pre graf-after--h4"><strong class="markup--strong markup--pre-strong">awk &#39;NR &gt; 1&#39; presidential_election_results.denorm.csv | cut -d, -f6 | sort | uniq | wc -l</strong></pre><pre name="af87" id="af87" class="graf graf--pre graf-after--pre">64</pre><p name="ec3c" id="ec3c" class="graf graf--p graf-after--pre">Answer: 64</p><pre name="95f3" id="95f3" class="graf graf--pre graf-after--p">awk &#39;NR &gt; 1&#39; presidential_election_results.denorm.csv | cut -d, -f6 | sort | uniq</pre><pre name="66e7" id="66e7" class="graf graf--pre graf-after--pre">A. A. Suraweera</pre><pre name="7833" id="7833" class="graf graf--pre graf-after--pre">A. Dissanayaka</pre><pre name="835e" id="835e" class="graf graf--pre graf-after--pre">A. K. J. Arachchige</pre><pre name="f8d8" id="f8d8" class="graf graf--pre graf-after--pre">A. S. P. Liyanage</pre><pre name="d608" id="d608" class="graf graf--pre graf-after--pre">A. W. Premawardhana</pre><pre name="f244" id="f244" class="graf graf--pre graf-after--pre">Abdul Rasool</pre><pre name="2660" id="2660" class="graf graf--pre graf-after--pre">Aithurus Mohamed Illias</pre><h4 name="01b7" id="01b7" class="graf graf--h4 graf-after--pre">Who are the Rajapaksa’s who have contested the Presidential Election? Sirisenas? Sinhes?</h4><pre name="b04d" id="b04d" class="graf graf--pre graf-after--h4"><strong class="markup--strong markup--pre-strong">awk &#39;NR &gt; 1&#39; presidential_election_results.denorm.csv | cut -d, -f6 | sort | uniq | grep Rajapaksa</strong></pre><pre name="d87e" id="d87e" class="graf graf--pre graf-after--pre">Mahinda Rajapaksa</pre><pre name="172b" id="172b" class="graf graf--pre graf-after--pre">Namal Ajith Rajapaksa</pre><pre name="8e9c" id="8e9c" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">awk &#39;NR &gt; 1&#39; presidential_election_results.denorm.csv | cut -d, -f6 | sort | uniq | grep Sirisena</strong></pre><pre name="e97e" id="e97e" class="graf graf--pre graf-after--pre">Arachchige Rathnayaka Sirisena</pre><pre name="e2b6" id="e2b6" class="graf graf--pre graf-after--pre">Maithripala Sirisena</pre><pre name="a103" id="a103" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">awk &#39;NR &gt; 1&#39; presidential_election_results.denorm.csv | cut -d, -f6 | sort | uniq | grep sin</strong></pre><pre name="6258" id="6258" class="graf graf--pre graf-after--pre">Arthur Jayasena Ranasinghe</pre><pre name="06af" id="06af" class="graf graf--pre graf-after--pre">Hudson Samarasinghe</pre><pre name="c59b" id="c59b" class="graf graf--pre graf-after--pre">Rajiva Wijesinha</pre><pre name="a620" id="a620" class="graf graf--pre graf-after--pre">Ranasinghe Premadasa</pre><pre name="2fc7" id="2fc7" class="graf graf--pre graf-after--pre">Ranil Wickremesinghe</pre><h4 name="0e50" id="0e50" class="graf graf--h4 graf-after--pre">What parties have contested presidential elections? Any with SL?</h4><pre name="9131" id="9131" class="graf graf--pre graf-after--h4"><strong class="markup--strong markup--pre-strong">awk &#39;NR &gt; 1&#39; presidential_election_results.denorm.csv | cut -d, -f5 | sort | uniq</strong></pre><pre name="5ac7" id="5ac7" class="graf graf--pre graf-after--pre">AACAAKO</pre><pre name="b327" id="b327" class="graf graf--pre graf-after--pre">ACAKO</pre><pre name="c893" id="c893" class="graf graf--pre graf-after--pre">ACTC</pre><pre name="ce1b" id="ce1b" class="graf graf--pre graf-after--pre">DNM</pre><pre name="669f" id="669f" class="graf graf--pre graf-after--pre">DUA</pre><pre name="4c72" id="4c72" class="graf graf--pre graf-after--pre">DUNF</pre><pre name="7d32" id="7d32" class="graf graf--pre graf-after--pre">FSP</pre><pre name="cc88" id="cc88" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">awk &#39;NR &gt; 1&#39; presidential_election_results.denorm.csv | cut -d, -f5 | sort | uniq | grep SL</strong></pre><pre name="6984" id="6984" class="graf graf--pre graf-after--pre">SLFP</pre><pre name="0640" id="0640" class="graf graf--pre graf-after--pre">SLLP</pre><pre name="974b" id="974b" class="graf graf--pre graf-after--pre">SLMP</pre><pre name="1835" id="1835" class="graf graf--pre graf-after--pre">SLNF</pre><pre name="99d6" id="99d6" class="graf graf--pre graf-after--pre">SLPF</pre><pre name="ff28" id="ff28" class="graf graf--pre graf-after--pre">SLPP</pre><h4 name="2255" id="2255" class="graf graf--h4 graf-after--pre">What is the highest percentage of votes a candidate has won in a polling division? Who and when?</h4><pre name="56f4" id="56f4" class="graf graf--pre graf-after--h4"><strong class="markup--strong markup--pre-strong">cut -d, -f1,4,6,7,8 presidential_election_results.denorm.csv | awk &#39;!/Postal|Final/&#39;  | sort -t, -nr -k5 | head -n 5 | tr , &#39;\t&#39;</strong></pre><pre name="f987" id="f987" class="graf graf--pre graf-after--pre">2005 Kilinochchi Ranil Wickremesinghe 1 100.0</pre><pre name="2467" id="2467" class="graf graf--pre graf-after--pre">1994 Point Pedro Chandrika Kumaratunga 8 100.0</pre><pre name="6d67" id="6d67" class="graf graf--pre graf-after--pre">1994 Manipay Chandrika Kumaratunga 18 100.0</pre><pre name="c6dd" id="c6dd" class="graf graf--pre graf-after--pre">1994 Kayts Chandrika Kumaratunga 14761 97.16</pre><pre name="d5f0" id="d5f0" class="graf graf--pre graf-after--pre">2005 Paddiruppu Ranil Wickremesinghe 24142 94.72</pre><p name="8a46" id="8a46" class="graf graf--p graf-after--pre">Answer: Ranil Wickremesinghe won the only vote cast in Kilinochchi in 2005. As trivially, Chandrika Kumaratunga won all 8 and 18 votes cast in Point Pedro and Manipay respectively in 1994.</p><h4 name="085e" id="085e" class="graf graf--h4 graf-after--p">Who won Borella in 2005?</h4><pre name="958b" id="958b" class="graf graf--pre graf-after--h4"><strong class="markup--strong markup--pre-strong">grep Borella presidential_election_results.denorm.csv | grep 2005 | cut -d, -f5,6,7,8 | sort -t, -nr -k3 | tr , &#39;\t&#39;</strong></pre><pre name="f706" id="f706" class="graf graf--pre graf-after--pre">UNP Ranil Wickremesinghe 25784 61.67</pre><pre name="5f2c" id="5f2c" class="graf graf--pre graf-after--pre">UPFA Mahinda Rajapaksa 15644 37.42</pre><pre name="1b1a" id="1b1a" class="graf graf--pre graf-after--pre">USP Siritunga Jayasuriya 115 0.28</pre><pre name="ad3e" id="ad3e" class="graf graf--pre graf-after--pre">ULPP Victor Hettigoda 80 0.19</pre><pre name="afa2" id="afa2" class="graf graf--pre graf-after--pre">JSP A. A. Suraweera 60 0.14</pre><pre name="eaf5" id="eaf5" class="graf graf--pre graf-after--pre">NLF Chamil Jayaneththi 32 0.08</pre><pre name="f672" id="f672" class="graf graf--pre graf-after--pre">SEP Wije Dias 23 0.06</pre><pre name="f66b" id="f66b" class="graf graf--pre graf-after--pre">ULF Anura De Silva 22 0.05</pre><pre name="8266" id="8266" class="graf graf--pre graf-after--pre">RPP Aruna de Soyza 18 0.04</pre><pre name="5e7d" id="5e7d" class="graf graf--pre graf-after--pre">SLNF Wimal Geeganage 17 0.04</pre><pre name="b8d5" id="b8d5" class="graf graf--pre graf-after--pre">DUA A. K. J. Arachchige 10 0.02</pre><pre name="f8d3" id="f8d3" class="graf graf--pre graf-after--pre">SLPF P. Nelson Perera 3 0.01</pre><pre name="d61b" id="d61b" class="graf graf--pre graf-after--pre">UNAF H. S. Dharmadwaja 1 0.0</pre><p name="62a4" id="62a4" class="graf graf--p graf-after--pre">Answer: Ranil Wickremesinghe with 61.67% of the vote.</p><h4 name="488c" id="488c" class="graf graf--h4 graf-after--p">Who has historically won Attanagalla?</h4><pre name="7683" id="7683" class="graf graf--pre graf-after--h4"><strong class="markup--strong markup--pre-strong">grep Attanagalla presidential_election_results.denorm.csv | sort -t, -nr -k8  | head -n 7 | sort | cut -f 1,5,6,7,8 -d, | tr , &#39;\t&#39;</strong></pre><pre name="ca7e" id="ca7e" class="graf graf--pre graf-after--pre">1982 SLFP Hector Kobbekaduwa 31495 55.92</pre><pre name="a802" id="a802" class="graf graf--pre graf-after--pre">1988 SLFP Sirimavo Bandaranaike 35758 60.12</pre><pre name="035b" id="035b" class="graf graf--pre graf-after--pre">1994 PA Chandrika Kumaratunga 51923 73.64</pre><pre name="8daf" id="8daf" class="graf graf--pre graf-after--pre">1999 PA Chandrika Kumaratunga 51204 65.79</pre><pre name="b905" id="b905" class="graf graf--pre graf-after--pre">2005 UPFA Mahinda Rajapaksa 52393 60.52</pre><pre name="e953" id="e953" class="graf graf--pre graf-after--pre">2010 UPFA Mahinda Rajapaksa 61337 66.3</pre><pre name="8b09" id="8b09" class="graf graf--pre graf-after--pre">2015 UPFA Mahinda Rajapaksa 54777 51.71</pre><h4 name="4ef5" id="4ef5" class="graf graf--h4 graf-after--pre">What is the highest number of votes a candidate has won in a polling division? Which year was that?</h4><pre name="3589" id="3589" class="graf graf--pre graf-after--h4"><strong class="markup--strong markup--pre-strong">cat  presidential_election_results.denorm.csv | awk &#39;!/Final Results|AICUM|Postal/&#39; | sort -t, -nr -k 7 | head -n 5 | cut -d, -f1,4,6,7 | tr , &#39;\t&#39;</strong></pre><pre name="ce83" id="ce83" class="graf graf--pre graf-after--pre">2015 Nuwara Eliya-Maskeliya Maithripala Sirisena 171578</pre><pre name="f418" id="f418" class="graf graf--pre graf-after--pre">2005 Nuwara Eliya-Maskeliya Ranil Wickremesinghe 156343</pre><pre name="c1fb" id="c1fb" class="graf graf--pre graf-after--pre">2010 Nuwara Eliya-Maskeliya Sarath Fonseka 112866</pre><pre name="4c60" id="4c60" class="graf graf--pre graf-after--pre">2015 Batticaloa Maithripala Sirisena 97779</pre><pre name="dac3" id="dac3" class="graf graf--pre graf-after--pre">1994 Nuwara Eliya-Maskeliya Chandrika Kumaratunga 94262</pre><p name="6bf2" id="6bf2" class="graf graf--p graf-after--pre">Answer: Maithripala Sirisena won 171,578 votes in Nuwara Eliya-Maskeliya in 2015</p><p name="e795" id="e795" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Please comment with your own interesting command-line analytics!</strong></p><p name="3d22" id="3d22" class="graf graf--p graf-after--p">…</p><p name="9e11" id="9e11" class="graf graf--p graf-after--p graf--trailing"><em class="markup--em markup--p-em">Caveat: For all the examples above, there are A) more efficient, B) more elegant, C) more correct, alternatives. For convenience, and laziness, I typed out whatever first came to mind 😉</em></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@nuwans" class="p-author h-card">Nuwan I. Senaratna</a> on <a href="https://medium.com/p/8a8101fac392"><time class="dt-published" datetime="2019-10-19T04:58:35.456Z">October 19, 2019</time></a>.</p><p><a href="https://medium.com/@nuwans/command-line-analytics-8a8101fac392" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 18, 2021.</p></footer></article></body></html>