<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>On Code Reviews</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">On Code Reviews</h1>
</header>
<section data-field="subtitle" class="p-summary">
Some Random Thoughts
</section>
<section data-field="body" class="e-content">
<section name="0e7f" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="64c9" id="64c9" class="graf graf--h3 graf--leading graf--title">On Code Reviews</h3><h4 name="482d" id="482d" class="graf graf--h4 graf-after--h3 graf--subtitle">Some Random Thoughts</h4><h3 name="59f2" id="59f2" class="graf graf--h3 graf-after--h4">The Most Important Goal of Code Review</h3><p name="a955" id="a955" class="graf graf--p graf-after--h3">The most important goal of code review is not to check if the code is high quality. The most important goal is to check if the code does what it should do. I.e. align with its business purpose. A “perfect” piece of code which doesn’t do what it is supposed to is garbage.</p><p name="78f5" id="78f5" class="graf graf--p graf-after--p">Unfortunately, some very senior engineers often don’t know their organisation’s business purpose. Are not told, or don’t want to find out. These usually don’t have any choice but to focus on the second most important goal of code review. Often at a high cost.</p><h3 name="f5a6" id="f5a6" class="graf graf--h3 graf-after--p">On Code Quality</h3><p name="8e1f" id="8e1f" class="graf graf--p graf-after--h3">The second most important goal of code review is code quality. Making sure that the code meets some “minimum bar”. Code Quality is not absolute. It (again) depends on what the organisation wants to do. For example, if you are building a throw-away prototype, Code Quality is usually a waste of time.</p><p name="c873" id="c873" class="graf graf--p graf-after--p">I detail this topic in <a href="https://medium.com/on-technology/on-code-quality-66695882ddb6" data-href="https://medium.com/on-technology/on-code-quality-66695882ddb6" class="markup--anchor markup--p-anchor" target="_blank">On Code Quality</a> and discuss three common myths.</p><h3 name="1203" id="1203" class="graf graf--h3 graf-after--p">Code is a Communication Channel</h3><p name="e95d" id="e95d" class="graf graf--p graf-after--h3">The third most important goal of code review is to serve as a communication channel. The code is a sort of “common room” where all coders interact. They learn what other people are doing, and also learn about other people. You can learn a lot about a human’s personality, ability and ideas from the code they write.</p><p name="1665" id="1665" class="graf graf--p graf-after--p">The more accessible code is to larger parts of the company, the better the communication.</p><h3 name="6395" id="6395" class="graf graf--h3 graf-after--p">Code Reviewers are not Automated Testers</h3><p name="3fe9" id="3fe9" class="graf graf--p graf-after--h3">Humans should do only human things. I.e. creative things. Everything else, machines should do.</p><p name="f0c5" id="f0c5" class="graf graf--p graf-after--p">Hence, if changing some code must always run some tests, the reviewer shouldn’t need to check-up on this. If the coder changes the code, the tests must run automatically. A machine should do the checking-up. And if the tests fail, the code shouldn’t even reach the reviewer.</p><h3 name="4a24" id="4a24" class="graf graf--h3 graf-after--p">Code Reviewers form a Social Network</h3><p name="e4ae" id="e4ae" class="graf graf--p graf-after--h3">The more people who can review some code, the more cohesive the engineering organisation. These people form a network who can collaborate on many other things. Like brainstorming and designing new systems. And even non-engineering topics like management and culture.</p><p name="4ad7" id="4ad7" class="graf graf--p graf-after--p">And just as code reviewers form a social network, the social network forms the code reviewers. A coder is far more likely to ask a friend or acquaintance to review code. And is just as more likely to ask the engineering at the next desk, rather than someone in another building.</p><p name="09f7" id="09f7" class="graf graf--p graf-after--p">[Back in 2009, my manager wrote a script that automatically assigned desks to engineers by looking at who reviewed whose code.]</p><h3 name="0201" id="0201" class="graf graf--h3 graf-after--p">Short Reviews are (usually) better reviews</h3><p name="0d95" id="0d95" class="graf graf--p graf-after--h3">The most efficient reviews are those that review a single logical change. Where a single, short sentence can describe the complete change. Larger changes should be broken down into such changes. Usually hierarchically. The ability to do this efficiently is the hallmark of a sound engineer. Bad engineers almost always make big changes.</p><h3 name="bec8" id="bec8" class="graf graf--h3 graf-after--p">Code Review is mentally intensive</h3><p name="24bf" id="24bf" class="graf graf--p graf-after--h3">You can’t review code (well) in a hurry. Nor if you’re tired. Nor if you’re distracted with something else.</p><h3 name="68e9" id="68e9" class="graf graf--h3 graf-after--p">Code Review needs reward</h3><p name="9fce" id="9fce" class="graf graf--p graf-after--h3">The top reason why code review is terrible in many organisations is not because “they don’t have a process”. It is because code review is not rewarded. If the incentive is created, the process will sort itself out.</p><p name="d70e" id="d70e" class="graf graf--p graf-after--p">What would be a good example of an incentive? There should be both carrots and sticks. Every level of engineer should have some minimum code review expectations. Miss these and you get points dinged. Similarly, reviewing lots of lines of code should be rewarded the same way writing lines of code is reward. And, of course, weighted, but the impact of each line of code.</p><figure name="fde5" id="fde5" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*pCT1z39epd_K9Pd3bcsYPg.jpeg" data-width="2430" data-height="2375" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*pCT1z39epd_K9Pd3bcsYPg.jpeg"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@nuwans" class="p-author h-card">Nuwan I. Senaratna</a> on <a href="https://medium.com/p/7d8018bb1c1c"><time class="dt-published" datetime="2020-03-02T03:05:33.494Z">March 2, 2020</time></a>.</p><p><a href="https://medium.com/@nuwans/on-code-reviews-7d8018bb1c1c" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 18, 2021.</p></footer></article></body></html>